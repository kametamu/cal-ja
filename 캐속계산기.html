<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <title>マビノギ 魔法キャスティング速度計算機</title>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-7RRZF9GD2Z');
    </script>

    <style>
        .button {

            width: 100px;

            background-color: #00004a;

            border: none;

            color: #fff;

            padding: 15px 0;

            text-align: center;

            text-decoration: none;

            display: inline-block;

            font-size: 15px;

            margin: 4px;

            cursor: pointer;

            border-radius: 10px;

        }
    </style>
    <script type="text/javascript" src="jq.js"></script>
    <link rel="stylesheet" href="css/cont.css">
    <script>
        function cal() {
            var v1 = Number(document.getElementById("v1").value); // 개조
            var v2 = Number(document.getElementById("v2").value); // 세공
            var v3 = Number(document.getElementById("v3").value); // 비바체
            var vv = document.getElementsByName("v4"); // 타이틀
            var v4 = document.getElementById("v4")
            for (var i = 0; i < vv.length; i++) {
                if (vv[i].checked)
                    v4 = 0
                else
                    v4 = 1;
                break;
            }

            var vc = document.getElementsByName("v5"); // 캐속포
            var v5 = document.getElementById("v5")
            for (var i = 0; i < vc.length; i++) {
                if (vc[i].checked)
                    v5 = 0
                else
                    v5 = 1;
                break;
            }

            var v6 = Number(document.getElementById("v6").value); // 쾌속

            var v7 = Number(document.getElementById("v7").value); // 지력

            var v8 = Number(document.getElementById("v8").value); // 매직웨폰 마스터리 랭크

            var v9 = $("#v9 option:selected").attr('value'); //에르그
            var v10 = $("#v9 option:selected").attr('value2'); //에르그
            var v11 = $("#v9 option:selected").attr('value3'); //에르그

            var v12 = $("#v12 option:selected").attr('value'); //캐속에코
            var v13 = $('input[name="v13"]').is(':checked') ? parseFloat($('input[name="v13"]').val()) : 1; //피파원
















            var res1_1; // 캐스팅 시간(초) 라볼           
            res1_1 = 1 * (1 - 0.01 * v1 * v13) * Math.pow((1 - 0.015 * v2), 2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - 0.01 * v6) * (1 - 1 * v10) * Math.pow((1 - 1 * v12), 2);
            document.getElementById("res1_1").value = res1_1.toFixed(2);

            var res1_1; // 캐스팅 시간(초)           
            if (res1_1 >= res1) { res1 = res1_1 }
            else { res1 = 1.5 * (1 - 0.01 * v1) * Math.pow((1 - 0.015 * v2), 2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - 0.01 * v6) * (1 - 1 * v10) * Math.pow((1 - 1 * v12), 2) };
            document.getElementById("res1").value = res1.toFixed(2);






            var res2; // 캐스팅 시간(초)헤일

            res2_1 = 3 * (1 - 0.01 * v1) * (1 - 0.015 * v2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - 0.01 * v6) * (1 - 1 * v11) * (1 - 1 * v12);
            if ((res2_1 <= 1.5) & (v6 == 0)) {
                res2 = 1.5
            } else { res2 = res2_1 }
            document.getElementById("res2").value = res2.toFixed(2);


            var res3_1; // 원드 캐스팅 속도 증가(%) 피파원

            res3_1 = 100 * (1 - (1 - 0.01 * v1) * Math.pow((1 - 0.015 * v2), 2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - 0.01 * v6) * (1 - 1 * v10) * Math.pow((1 - 1 * v12), 2));

            document.getElementById("res3_1").value = res3_1.toFixed(2);


            var res3; // 원드 캐스팅 속도 증가(%)

            if ((v1 >= 33.33) & (v13 == 0)) {
                res3 = 100 * (1 - 0.66 * Math.pow((1 - 0.015 * v2), 2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - 0.01 * v6) * (1 - 1 * v10) * Math.pow((1 - 1 * v12), 2));
            }
            else {

                res3 = 100 * (1 - (1 - 0.01 * v1) * Math.pow((1 - 0.015 * v2), 2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - 0.01 * v6) * (1 - 1 * v10) * Math.pow((1 - 1 * v12), 2))
            };

            document.getElementById("res3").value = res3.toFixed(2);

            var res4; // 스태프 캐스팅 속도 증가(%)
            res4_1 = 100 * (1 - (1 - 0.01 * v1) * (1 - 0.015 * v2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - 0.01 * v6) * (1 - 1 * v11) * (1 - 1 * v12));
            if (((res4_1 >= 50) & (v6 == 0))
            ) {
                res4 = 50
            } else { res4 = res4_1 }


            document.getElementById("res4").value = res4.toFixed(2);


            var res5; // 중급마법 캐스팅 속도

            if ((100 * (1 - (1 - 0.01 * v1) * (1 - 0.015 * v2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - (v7 / 5000)) * (1 - v8) * (1 - 1 * v12)) > 50)
            ) {
                res5 = 50 * (1 + 1 * v9) * (1 + 0.01 * v6)
            } else { res5 = (100 * (1 - (1 - 0.01 * v1) * (1 - 0.015 * v2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - (v7 / 5000)) * (1 - v8) * (1 - 1 * v9) * (1 - 0.01 * v6) * (1 - 1 * v12))) }

            document.getElementById("res5").value = res5.toFixed(2);


            var res6; // 중급마법 캐스팅 시간

            if ((2 * (1 - 0.01 * v1) * (1 - 0.015 * v2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - v8) * (1 - (v7 / 5000) * (1 - 1 * v12))) < 1) {
                res6 = 1 * (1 - 1 * v9) * (1 - 0.01 * v6)
            } else { res6 = (2 * (1 - 0.01 * v1) * (1 - 0.015 * v2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - v8) * (1 - (v7 / 5000)) * (1 - 1 * v9) * (1 - 0.01 * v6) * (1 - 1 * v12)) }

            document.getElementById("res6").value = res6.toFixed(2);


            var res7; // 런지
            res7 = 1.5 * (1 - 0.01 * v1) * Math.pow((1 - 0.015 * v2), 2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - 0.01 * v6) * Math.pow((1 - 1 * v12), 2);
            document.getElementById("res7").value = res7.toFixed(2);

            var res7_1; // 런지
            res7_1 = 1.5 * (1 - 0.01 * v1) * (1 - 0.015 * v2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - 0.01 * v6) * (1 - 1 * v12);
            document.getElementById("res7_1").value = res7_1.toFixed(2);

            var res8; // 비율
            res8 = 100*(1-(1 - 0.01 * v1) * (1 - 0.015 * v2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - 0.01 * v6) * (1 - 1 * v12));
            document.getElementById("res8").value = res8.toFixed(2);
            
            var res8_1; // 비율
            res8_1 = 100*(1-(1 - 0.01 * v1) * Math.pow((1 - 0.015 * v2), 2) * (1 - 0.01 * v3) * (1 - v4 * 0.05) * (1 - 0.1 * v5) * (1 - 0.01 * v6) * Math.pow((1 - 1 * v12), 2));
            document.getElementById("res8_1").value = res8_1.toFixed(2);

        }








        function reset() {
            document.getElementById("v1").value = "";
            // document.getElementById("v2").value = "";
            document.getElementById("v3").value = "";
            //document.getElementById("v4").value = "";
            //document.getElementById("v6").value = "";
            document.getElementById("res1").value = "";
            document.getElementById("res2").value = "";
            document.getElementById("res3").value = "";
            document.getElementById("res4").value = "";
            document.getElementById("res5").value = "";
            document.getElementById("res6").value = "";
            $("input:checkbox").prop("checked", false);


        }

    </script>
</head>

<body>

    <div id="wrapper">
        <div id="status1">
            <h2>マビノギ キャスティング速度計算機</h2>
            ボルト合成には発射モーションのディレイがあるため、キャスティング速度と実際の発射速度には差があります。<br>
            ワンドの場合は細工レベルあたり1.5％が2回乗算されますが、スタッフは1.5％が1回だけ適用されます。<br>
            スタッフは中級魔法と上級魔法のキャスティング速度増加に50％の上限があります。<br>
            中級魔法のエルグは上限を超えて適用されますが、上級魔法は対象外です。<br>
            クイックキャストを使うと上級魔法のキャスティング速度上限が解除されます。<br>
            <br><br>
            <div id="status">
                知力：
                <input type="text" id="v7" size="5" placeholder="0"><br>
                武器キャスティング改造（％）：
                <input type="text" id="v1" size="5" placeholder="0">、ピパウォン<input type="checkbox" name="v13" value=0><br>
                マジックウェポンマスタリー ランク：
                <select name="v8" id="v8" style="background:#D9E5FF">
                    <option value="0" selected>練習</option>
                    <option value="0.01">F</option>
                    <option value="0.02">E</option>
                    <option value="0.03">D</option>
                    <option value="0.04">C</option>
                    <option value="0.05">B </option>
                    <option value="0.06">A</option>
                    <option value="0.07">9</option>
                    <option value="0.08">8</option>
                    <option value="0.09">7</option>
                    <option value="0.10">6</option>
                    <option value="0.11">5</option>
                    <option value="0.12">4</option>
                    <option value="0.13">3</option>
                    <option value="0.14">2</option>
                    <option value="0.15">1</option>
                </select><br>
                エルグレベル：
                <select name="v9" id="v9" style="background:#D9E5FF">
                    <option value="0" value2="0" value3="0" selected>35未満</option>
                    <option value="0.06" value2="0.05" value3="0">S35</option>
                    <option value="0.11" value2="0.1" value3="0">S40</option>
                    <option value="0.18" value2="0.12" value3="0">A50</option>
                    <option value="0.2" value2="0.15" value3="0.15">S45</option>
                    <option value="0.3" value2="0.2" value3="0.3">S50</option>
                </select><br>
                <div>
                    <label>キャスティング速度細工：</label><br>
                    <input type="range" id="v2" size="5" placeholder="0" min="0" max="25" value="0"
                        oninput="document.getElementById('캐스팅 속도 세공(레벨):').innerHTML=this.value;">
                    <span id="캐스팅 속도 세공(레벨):"></span>レベル
                </div>
                <div>
                    <label>（特性）クイックキャスト率：</label> <br>
                    <details>
                        <summary>クイックレベルごとのキャスティング速度割合</summary>
                        <p>（クイックレベル1：1％、2～3：2％、4～5：3％、6～7：4％、8：5％、9：6％、10：7％）</p>
                    </details>
                    <input type="range" id="v6" size="5" placeholder="0" min="0" max="7" value="0"
                        oninput="document.getElementById('쾌속비율(%):').innerHTML=this.value;">
                    <span id="쾌속비율(%):"></span> %
                </div>
                ビバーチェ魔法キャスティング速度（％）：
                <input type="text" id="v3" size="5" placeholder="0"><br>
                スペシャル虚無の蝶タイトル：
                <input type="radio" name="v4" id="v4" value="1" checked>未適用
                <input type="radio" name="v4" id="v4_1" value="0">適用<br>
                キャスティング速度増加ポーション：
                <input type="radio" name="v5" id="v5" value="1" checked>未適用
                <input type="radio" name="v5" id="v5_1" value="0">適用<br>

                キャスティング速度エコーストーン
                <select name="v12" id="v12" style="background:#D9E5FF">
                    <option value="0" selected>未適用</option>
                    <option value="0.015">1レベル</option>
                    <option value="0.03">2レベル</option>
                    <option value="0.045">3レベル</option>
                </select>



            </div>


            <br>

            <input type="hidden" placeholder="" id="res1_1" size="0" style="border:none;text-align: right; ">
        </div>

        結果
        <br>
        <div id="result">
            <div style="height: auto; width: 250px; border: 1px solid; padding:10px">
                ワンド<br><br>
                ラパボルト キャスティング時間<br>
                <input type="text" id="res1" size="5"> 秒<br>
                ボルト合成 キャスティング速度増加<br>
                <input type="text" id="res3" size="5"> %<br>
                ファイアボルト キャスティング速度増加<br>
                <input type="text" id="res3_1" size="5"> %<br>
                エクスプロージョンランジ キャスティング時間<br>
                <input type="text" id="res7" size="5"> 秒 <br>
                アルカナ キャスティング速度増加<br>
                <input type="text" id="res8_1" size="5"> % <br>

            </div><br>

            <div style="height: auto; width: 250px; border: 1px solid; padding:10px">
                スタッフ<br><br>
                ヘイルストーム キャスティング時間<br>
                <input type="text" id="res2" size="5"> 秒 <br>
                上級魔法 キャスティング速度増加<br>
                <input type="text" id="res4" size="5"> % <br>
                ファイアボール キャスティング時間<br>
                <input type="text" id="res6" size="5"> 秒 <br>
                中級魔法 キャスティング速度増加<br>
                <input type="text" id="res5" size="5"> %<br>
                エクスプロージョンランジ キャスティング時間<br>
                <input type="text" id="res7_1" size="5"> 秒 <br>
                アルカナ キャスティング速度増加<br>
                <input type="text" id="res8" size="5"> % <br>

            </div><br><br>

            <input type="button" value="計算する" class="button" onclick="cal()">
            <input type="button" value="リセット" class="button" onclick="reset()">
        </div>
    </div>

    <script type="text/javascript" src="//wcs.naver.net/wcslog.js"></script>
    <script type="text/javascript">
        if (!wcs_add) var wcs_add = {};
        wcs_add["wa"] = "16bb61aebd2bc20";
        if (window.wcs) {
            wcs_do();
        }
    </script>

</body>

</html>
